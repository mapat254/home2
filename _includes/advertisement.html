<div class="advertisement ad-{{ include.position }}">
  {% if site.adsense.client_id and site.adsense.ad_slots %}
    {% if include.position == 'header' %}
      <div class="ad-container ad-header">
        <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="{{ site.adsense.client_id }}"
          data-ad-slot="{{ site.adsense.ad_slots.header }}"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      </div>
    {% elsif include.position == 'sidebar' and site.widgets.sidebar.advertisement %}
      <div class="ad-container ad-sidebar">
        <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="{{ site.adsense.client_id }}"
          data-ad-slot="{{ site.adsense.ad_slots.sidebar }}"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      </div>
    {% elsif include.position == 'in-article' and site.adsense.enable_in_article_ads %}
      <div class="ad-container ad-in-article">
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="{{ site.adsense.client_id }}"
          data-ad-slot="{{ site.adsense.ad_slots.in_article }}"></ins>
      </div>
    {% elsif include.position == 'footer' %}
      <div class="ad-container ad-footer">
        <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="{{ site.adsense.client_id }}"
          data-ad-slot="{{ site.adsense.ad_slots.footer }}"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      </div>
    {% endif %}
    
    <!-- Init each ad independently without enable_page_level_ads -->
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  {% endif %}
</div>
